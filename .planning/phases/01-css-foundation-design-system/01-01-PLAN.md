---
phase: 01-css-foundation-design-system
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - dashboard/package.json
  - dashboard/vite.config.ts
  - dashboard/tsconfig.json
  - dashboard/tsconfig.app.json
  - dashboard/components.json
  - dashboard/src/lib/utils.ts
  - dashboard/src/index.css
  - dashboard/src/styles/cyberpunk-vars.css
  - dashboard/src/styles/glassmorphism.css
  - dashboard/src/styles/scanlines.css
autonomous: true
requirements:
  - DS-01
  - DS-02
  - DS-03
  - DS-04
  - DS-05
  - DS-06

must_haves:
  truths:
    - "CSS custom properties --cyber-void, --cyber-pink, --cyber-orange, --cyber-gold are defined in :root using oklch color space"
    - "Tailwind utility classes bg-cyber-pink, text-cyber-gold, etc. resolve correctly via @theme inline"
    - "Glassmorphism utility classes (.glass, .glass-strong) produce visible frosted glass effect on any element"
    - "Neon glow states (.neon-glow) produce visible box-shadow on hover/focus"
    - "Scanline overlay (.scanlines) renders CRT texture without blocking pointer events"
    - "JetBrains Mono variable font loads and is accessible via font-mono Tailwind utility"
    - "shadcn/ui components.json exists with cyberpunk oklch theme and @/ path aliases"
    - "cn() utility uses tailwind-merge for class conflict resolution"
  artifacts:
    - path: "dashboard/src/styles/cyberpunk-vars.css"
      provides: "Cyberpunk oklch color palette as CSS custom properties"
      contains: "--cyber-pink"
    - path: "dashboard/src/styles/glassmorphism.css"
      provides: "Glass utility classes with backdrop-filter"
      contains: ".glass"
    - path: "dashboard/src/styles/scanlines.css"
      provides: "CRT scanline overlay effect"
      contains: ".scanlines"
    - path: "dashboard/src/index.css"
      provides: "Root stylesheet with all imports and @theme inline directive"
      contains: "@theme inline"
    - path: "dashboard/components.json"
      provides: "shadcn/ui configuration"
      contains: "shadcn"
    - path: "dashboard/src/lib/utils.ts"
      provides: "Upgraded cn() with tailwind-merge"
      contains: "twMerge"
  key_links:
    - from: "dashboard/src/index.css"
      to: "dashboard/src/styles/cyberpunk-vars.css"
      via: "@import directive"
      pattern: "@import.*cyberpunk-vars"
    - from: "dashboard/src/index.css"
      to: "dashboard/src/styles/glassmorphism.css"
      via: "@import directive"
      pattern: "@import.*glassmorphism"
    - from: "dashboard/src/index.css"
      to: "dashboard/src/styles/scanlines.css"
      via: "@import directive"
      pattern: "@import.*scanlines"
    - from: "dashboard/vite.config.ts"
      to: "dashboard/src"
      via: "resolve.alias @/ mapping"
      pattern: "resolve.*alias.*@"
---

<objective>
Install all Phase 1 dependencies, configure path aliases for shadcn/ui, initialize the shadcn/ui CLI, create the complete cyberpunk CSS design system (palette, glassmorphism, scanlines, neon glow), and wire everything into the root stylesheet.

Purpose: This is the foundational layer that every subsequent phase depends on. Without the CSS custom properties, Tailwind theme integration, and shadcn/ui configuration, no cyberpunk components or pages can be built.

Output: Working CSS design system with cyberpunk oklch palette exposed as both CSS variables and Tailwind utilities, glass/glow/scanline effect classes, JetBrains Mono font, and shadcn/ui ready for component generation.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-css-foundation-design-system/01-RESEARCH.md

@dashboard/package.json
@dashboard/vite.config.ts
@dashboard/tsconfig.json
@dashboard/tsconfig.app.json
@dashboard/src/index.css
@dashboard/src/lib/utils.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install dependencies and configure path aliases</name>
  <files>
    dashboard/package.json
    dashboard/vite.config.ts
    dashboard/tsconfig.json
    dashboard/tsconfig.app.json
    dashboard/src/lib/utils.ts
  </files>
  <action>
1. Install required npm packages:
   ```bash
   cd dashboard
   npm install tailwind-merge class-variance-authority tw-animate-css @fontsource-variable/jetbrains-mono
   ```
   Note: Do NOT run `npx shadcn@latest init` yet -- path aliases must be configured first.

2. Add `@/` path alias to `tsconfig.json` (the root tsconfig):
   ```json
   {
     "files": [],
     "references": [
       { "path": "./tsconfig.app.json" },
       { "path": "./tsconfig.node.json" }
     ],
     "compilerOptions": {
       "baseUrl": ".",
       "paths": {
         "@/*": ["./src/*"]
       }
     }
   }
   ```

3. Add `@/` path alias to `tsconfig.app.json`:
   Add to `compilerOptions`:
   ```json
   "baseUrl": ".",
   "paths": {
     "@/*": ["./src/*"]
   }
   ```

4. Update `vite.config.ts` to add the `@/` resolve alias:
   - Import `{ resolve }` from `"node:path"` (use namespace import `import * as path from "node:path"` or named import to avoid `verbatimModuleSyntax` issues -- do NOT use `import path from "path"`)
   - Add `resolve: { alias: { "@": resolve(__dirname, "./src") } }` to the config (if using named import, use `resolve` from `node:path`; if using `import * as path`, use `path.resolve`)
   - Preserve existing `plugins`, `server`, and `test` config

5. Upgrade `src/lib/utils.ts` -- replace the `cn()` function to use `tailwind-merge`:
   ```typescript
   import { clsx, type ClassValue } from 'clsx';
   import { twMerge } from 'tailwind-merge';

   export function cn(...inputs: ClassValue[]): string {
     return twMerge(clsx(inputs));
   }
   ```
   Keep the existing `formatNumber` and `formatPct` functions unchanged.

6. Run `npx shadcn@latest init` interactively is not possible in this context. Instead, manually create `components.json` at `dashboard/components.json` with this content:
   ```json
   {
     "$schema": "https://ui.shadcn.com/schema.json",
     "style": "radix-nova",
     "rsc": false,
     "tsx": true,
     "tailwind": {
       "config": "",
       "css": "src/index.css",
       "baseColor": "neutral",
       "cssVariables": true,
       "prefix": ""
     },
     "aliases": {
       "components": "@/components",
       "utils": "@/lib/utils",
       "ui": "@/components/ui",
       "lib": "@/lib",
       "hooks": "@/hooks"
     },
     "iconLibrary": "lucide"
   }
   ```

IMPORTANT:
- The `verbatimModuleSyntax` in tsconfig.app.json means default CJS imports like `import path from "path"` will fail. Use `import { resolve } from "node:path"` or `import * as path from "node:path"` instead.
- Create `dashboard/src/components/ui/` directory (empty, for future shadcn components).
  </action>
  <verify>
    <automated>cd dashboard && npx tsc --noEmit 2>&1 | head -20 && node -e "const pkg = require('./package.json'); const deps = {...pkg.dependencies, ...pkg.devDependencies}; const needed = ['tailwind-merge','class-variance-authority','tw-animate-css','@fontsource-variable/jetbrains-mono']; needed.forEach(d => console.log(d, deps[d] ? 'OK' : 'MISSING'));" && test -f components.json && echo "components.json OK" && test -f src/components/ui/.gitkeep 2>/dev/null || test -d src/components/ui && echo "ui dir OK"</automated>
    <manual>Verify `dashboard/components.json` has correct aliases and `dashboard/src/lib/utils.ts` imports `twMerge`</manual>
  </verify>
  <done>
    - All 4 npm packages installed (tailwind-merge, class-variance-authority, tw-animate-css, @fontsource-variable/jetbrains-mono)
    - `@/` path alias configured in tsconfig.json, tsconfig.app.json, and vite.config.ts
    - `cn()` upgraded to use `twMerge(clsx(inputs))`
    - `components.json` created with shadcn/ui cyberpunk configuration
    - `src/components/ui/` directory exists
    - TypeScript compiles with no errors
  </done>
</task>

<task type="auto">
  <name>Task 2: Create cyberpunk CSS design system files</name>
  <files>
    dashboard/src/styles/cyberpunk-vars.css
    dashboard/src/styles/glassmorphism.css
    dashboard/src/styles/scanlines.css
    dashboard/src/index.css
  </files>
  <action>
1. Create `dashboard/src/styles/` directory.

2. Create `dashboard/src/styles/cyberpunk-vars.css` with the full cyberpunk oklch palette:
   ```css
   /* Cyberpunk Design System - CSS Custom Properties
    * All colors use oklch for perceptual uniformity.
    * Use var(--cyber-*) in CSS or Tailwind cyber-* utilities. */

   :root {
     /* Primary cyberpunk palette */
     --cyber-void: oklch(0.130 0.010 345.1);       /* #0a0608 - dark background */
     --cyber-pink: oklch(0.655 0.261 356.9);        /* #ff1493 - hot pink */
     --cyber-orange: oklch(0.705 0.193 39.2);       /* #ff6b35 - warm orange */
     --cyber-gold: oklch(0.887 0.182 95.3);         /* #ffd700 - gold */

     /* Dimmed shades (lower lightness + chroma for secondary use) */
     --cyber-pink-dim: oklch(0.400 0.160 356.9);
     --cyber-orange-dim: oklch(0.450 0.120 39.2);
     --cyber-gold-dim: oklch(0.550 0.110 95.3);

     /* Surface tones (derived from void bg with slight warmth) */
     --cyber-surface: oklch(0.180 0.008 345.1);
     --cyber-surface-bright: oklch(0.240 0.010 345.1);

     /* Text tones */
     --cyber-text: oklch(0.920 0.010 95.3);         /* Warm white (gold-tinted) */
     --cyber-text-dim: oklch(0.600 0.010 95.3);     /* Muted text */

     /* shadcn/ui semantic tokens mapped to cyberpunk palette */
     --background: oklch(0.130 0.010 345.1);
     --foreground: oklch(0.920 0.010 95.3);
     --card: oklch(0.180 0.008 345.1);
     --card-foreground: oklch(0.920 0.010 95.3);
     --popover: oklch(0.180 0.008 345.1);
     --popover-foreground: oklch(0.920 0.010 95.3);
     --primary: oklch(0.655 0.261 356.9);
     --primary-foreground: oklch(0.985 0 0);
     --secondary: oklch(0.240 0.010 345.1);
     --secondary-foreground: oklch(0.920 0.010 95.3);
     --muted: oklch(0.240 0.010 345.1);
     --muted-foreground: oklch(0.600 0.010 95.3);
     --accent: oklch(0.705 0.193 39.2);
     --accent-foreground: oklch(0.985 0 0);
     --destructive: oklch(0.577 0.245 27.325);
     --destructive-foreground: oklch(0.985 0 0);
     --border: oklch(0.300 0.020 345.1);
     --input: oklch(0.300 0.020 345.1);
     --ring: oklch(0.655 0.261 356.9);
     --radius: 0.5rem;

     /* Chart colors (neon cyberpunk palette for Recharts) */
     --chart-1: oklch(0.655 0.261 356.9);  /* pink */
     --chart-2: oklch(0.705 0.193 39.2);   /* orange */
     --chart-3: oklch(0.887 0.182 95.3);   /* gold */
     --chart-4: oklch(0.400 0.160 356.9);  /* dim pink */
     --chart-5: oklch(0.450 0.120 39.2);   /* dim orange */

     /* Sidebar tokens */
     --sidebar: oklch(0.150 0.008 345.1);
     --sidebar-foreground: oklch(0.920 0.010 95.3);
     --sidebar-primary: oklch(0.655 0.261 356.9);
     --sidebar-primary-foreground: oklch(0.985 0 0);
     --sidebar-accent: oklch(0.240 0.010 345.1);
     --sidebar-accent-foreground: oklch(0.920 0.010 95.3);
     --sidebar-border: oklch(0.300 0.020 345.1);
     --sidebar-ring: oklch(0.655 0.261 356.9);
   }
   ```

3. Create `dashboard/src/styles/glassmorphism.css`:
   ```css
   /* Glassmorphism Utility Classes
    * Apply to any element for frosted glass effect.
    * Requires translucent background â€” backdrop-filter is invisible on opaque elements. */

   .glass {
     background: oklch(0.130 0.010 345.1 / 0.6);
     backdrop-filter: blur(12px);
     -webkit-backdrop-filter: blur(12px);
     border: 1px solid oklch(0.655 0.261 356.9 / 0.15);
   }

   .glass-strong {
     background: oklch(0.130 0.010 345.1 / 0.8);
     backdrop-filter: blur(20px);
     -webkit-backdrop-filter: blur(20px);
     border: 1px solid oklch(0.655 0.261 356.9 / 0.25);
     box-shadow: 0 0 15px oklch(0.655 0.261 356.9 / 0.1);
   }

   .glass-hover {
     transition: box-shadow 0.2s ease, border-color 0.2s ease;
   }
   .glass-hover:hover {
     border-color: oklch(0.655 0.261 356.9 / 0.4);
     box-shadow: 0 0 20px oklch(0.655 0.261 356.9 / 0.15);
   }
   ```

4. Create `dashboard/src/styles/scanlines.css`:
   ```css
   /* CRT Scanline Overlay
    * Apply .scanlines class to a container.
    * Uses ::after pseudo-element with pointer-events: none
    * so it never blocks interaction. */

   .scanlines {
     position: relative;
   }

   .scanlines::after {
     content: "";
     position: fixed;
     inset: 0;
     z-index: 9999;
     pointer-events: none;
     background: repeating-linear-gradient(
       0deg,
       transparent,
       transparent 2px,
       oklch(0 0 0 / 0.03) 2px,
       oklch(0 0 0 / 0.03) 4px
     );
     animation: scanline-scroll 8s linear infinite;
   }

   @keyframes scanline-scroll {
     from { transform: translateY(0); }
     to { transform: translateY(4px); }
   }

   /* Respect reduced motion preference */
   @media (prefers-reduced-motion: reduce) {
     .scanlines::after {
       animation: none;
     }
   }
   ```

5. Replace `dashboard/src/index.css` with the complete root stylesheet. This is the most critical file -- it wires everything together.

   Structure:
   - `@import "tailwindcss"` (must be first)
   - `@import "tw-animate-css"`
   - `@import "@fontsource-variable/jetbrains-mono"` (font package)
   - `@import "./styles/cyberpunk-vars.css"` (palette + shadcn tokens)
   - `@import "./styles/glassmorphism.css"` (glass utilities)
   - `@import "./styles/scanlines.css"` (CRT overlay)
   - `@custom-variant dark (&:is(.dark *))` (shadcn dark mode support)
   - `@theme inline { ... }` block mapping all CSS vars to Tailwind utilities (cyberpunk palette colors, shadcn semantic tokens, radius values, font-mono)
   - `@layer base { ... }` with border/outline defaults and body bg/text

   Use the COMPLETE `@theme inline` block from the research document (01-RESEARCH.md "Complete index.css Structure" section). This includes:
   - All `--color-cyber-*` mappings
   - All shadcn semantic color mappings (background, foreground, card, popover, primary, secondary, muted, accent, destructive, border, input, ring, chart-1..5, sidebar-*)
   - Radius calculations (--radius-sm, --radius-md, --radius-lg, --radius-xl)
   - Font mono declaration

IMPORTANT:
- `:root` variables go in `cyberpunk-vars.css`, NOT in `index.css` (separation of concerns)
- `@theme inline` goes in `index.css` (Tailwind integration point)
- Always use `oklch()` values with alpha channel syntax `/0.6` not `rgba()`
- Include both `backdrop-filter` and `-webkit-backdrop-filter` (Safari compat)
- Scanline overlay MUST have `pointer-events: none`
  </action>
  <verify>
    <automated>cd dashboard && npx vite build 2>&1 | tail -5 && test -f src/styles/cyberpunk-vars.css && echo "cyberpunk-vars.css OK" && test -f src/styles/glassmorphism.css && echo "glassmorphism.css OK" && test -f src/styles/scanlines.css && echo "scanlines.css OK" && grep -q "@theme inline" src/index.css && echo "@theme inline OK" && grep -q "cyber-pink" src/styles/cyberpunk-vars.css && echo "cyber-pink OK" && grep -q "pointer-events: none" src/styles/scanlines.css && echo "pointer-events OK"</automated>
    <manual>Run `npm run dev` and open http://localhost:5173 -- background should be dark void (#0a0608), not gray-950. Subtle scanlines should be visible. No broken interactions.</manual>
  </verify>
  <done>
    - `cyberpunk-vars.css` defines full oklch palette (4 primary colors, 3 dim shades, 2 surface tones, 2 text tones) + all shadcn semantic tokens
    - `glassmorphism.css` provides .glass, .glass-strong, .glass-hover utility classes
    - `scanlines.css` provides .scanlines class with CRT overlay, pointer-events: none, and prefers-reduced-motion support
    - `index.css` imports all CSS files, declares @theme inline with full Tailwind utility mapping, and sets base layer defaults
    - JetBrains Mono font imported and available via font-mono
    - Vite build succeeds with no CSS errors
  </done>
</task>

</tasks>

<verification>
1. `cd dashboard && npx tsc --noEmit` -- TypeScript compiles with no errors (path aliases work)
2. `cd dashboard && npx vite build` -- Vite build succeeds (CSS imports resolve, no missing files)
3. `grep -r "cyber-pink" dashboard/src/styles/` -- confirms palette variables exist
4. `grep "twMerge" dashboard/src/lib/utils.ts` -- confirms cn() upgraded
5. `test -f dashboard/components.json` -- confirms shadcn/ui initialized
6. `grep "pointer-events: none" dashboard/src/styles/scanlines.css` -- confirms scanlines are non-blocking
7. `grep "@theme inline" dashboard/src/index.css` -- confirms Tailwind integration
</verification>

<success_criteria>
- All 4 npm dependencies installed and importable
- Path alias `@/` resolves in TypeScript and Vite
- shadcn/ui `components.json` exists with correct config
- CSS custom properties `--cyber-void`, `--cyber-pink`, `--cyber-orange`, `--cyber-gold` defined in `:root`
- Tailwind utilities `bg-cyber-pink`, `text-cyber-gold` etc. work via `@theme inline`
- Glass, glow, and scanline CSS classes defined
- JetBrains Mono available as `font-mono`
- `cn()` uses `tailwind-merge`
- Vite build succeeds
</success_criteria>

<output>
After completion, create `.planning/phases/01-css-foundation-design-system/01-01-SUMMARY.md`
</output>
